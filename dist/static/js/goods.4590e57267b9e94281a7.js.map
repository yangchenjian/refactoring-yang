{"version":3,"sources":["webpack:///./src/modules/js/filter.js","webpack:///./src/pages/goods/goods.js","webpack:///src/components/Swiper.vue","webpack:///./src/components/Swiper.vue?e49a","webpack:///./src/components/Swiper.vue","webpack:///./src/modules/js/api.js"],"names":["mFilter","formatPrice","price","String","parseInt","Number","replace","formatBuyer","buyername","key","globalFilter","Vue","filter","component","Swipe","name","SwipeItem","id","qs","parse","location","search","substr","el","data","goodsId","goodsInfo","goodsTab","tabIndex","goodsDeal","skuType","showSku","skuNum","isAddCart","showAddMsg","methods","fetch","url","parm","axios","post","then","res","catch","error","console","log","get","getGoodsData","_this","this","goodsDetails","changeTab","index","getDealData","_this2","list","err","chooseSku","type","changeNum","num","addCart","_this3","number","status","setTimeout","watch","newVal","oldVal","document","body","style","overflow","height","val","created","Swiper","props","bannerlists","Array","required","components_Swiper","render","_h","$createElement","_c","_self","staticClass","attrs","auto","_l","item","href","clickUrl","src","imgUrl","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","hotlists","indexbanner","categorylist","subList","rank","goodList","cartList","cartReduce","cartRemove","cartMremove","addressLists","addressAdd","addressRemove","addressUpdate","addressSetDefault","hasOwnProperty"],"mappings":"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","file":"static/js/goods.4590e57267b9e94281a7.js","sourcesContent":["\nlet mFilter = {\n\t\n\n\tformatPrice:price=>{\n\t\treturn String(parseInt(Number(price)*100)).replace(/(\\d{2})$/, '.$1')\n\n\t\t// if(price+'.0' != price){\n\t\t// \treturn price\n\t\t// }else{\n\t\t// \treturn price + '.00' \n\t\t// }\t\t\t\t\n\t\n\n\t}, //formatPrice\n\tformatBuyer:buyername=>{\n\t\treturn buyername.replace(/.(?=.)/g, '*');\n\t}\n\n\n\n}\n\n\nexport default mFilter\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/filter.js","\n\nimport './css/goods_common.css'\nimport './css/goods_custom.css'\nimport './css/goods.css'\nimport './css/goods_theme.css'\nimport './css/goods_mars.css'\nimport './css/goods_sku.css'\nimport './css/goods_transiton.css'\n\n\n\nimport Vue from 'vue'\nimport axios from 'axios'\nimport qs from 'qs'\n// import mixin from 'js/mixin.js'\nimport url from 'js/api.js'\nimport globalFilter from 'js/filter.js'\nfor(let key in globalFilter){\n\tVue.filter(key,globalFilter[key])\n}\n\nimport { Swipe, SwipeItem } from 'mint-ui';\nVue.component(Swipe.name, Swipe);\nVue.component(SwipeItem.name, SwipeItem);\nimport Swiper from 'components/Swiper'\n\n\n// 拿到url中的产品id\nlet{id} = qs.parse(location.search.substr(1))\n\n// 就只有两项结构不怎么复杂所以直接用字符串就行，不用像底部导航那样使用对象\nlet goodsTab = ['商品详情','本店成交']\n\n\nlet goods = new Vue({\n\tel: '#goods',\n\tdata:{\n\t\tgoodsId: id,\n\t\tgoodsInfo: null,\n\t\tgoodsTab:goodsTab,\n\t\ttabIndex: 0,\n\t\t// 成交数据默认为空\n\t\tgoodsDeal: null,\n\t\t// 弹窗类型默认为1\n\t\tskuType: 1,\n\t\t// 弹出层是否显示 默认不弹出\n\t\tshowSku: false,\n\t\tskuNum: 1,\n\t\t// 已加入购物车 的 标识\n\t\tisAddCart: false,\n\t\t// 添加是否成功的信息\n\t\tshowAddMsg: false,\n\n\t},\n\tmethods:{\n\t\t// 小小的封装一下异步请求\n\t\tfetch(url,parm){\n\t\t\tif (parm) {\n\t\t\t\treturn axios.post(url,parm).then(res=>{\n\t\t\t\t\treturn res.data\n\t\t\t\t}).catch(error=>{\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\treturn axios.get(url).then(res=>{\n\t\t\t\t\treturn res.data\n\t\t\t\t}).catch(error=>{\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t})\n\t\t\t}\n\n\t\t},\n\n\t\t// 这个id 要利用qs从url上面去获取\n\t\tgetGoodsData(id){\n\t\t\taxios.post(url.goodsDetails,{id})\n\t\t\t.then(res=>{\n\t\t\t\tthis.goodsInfo = res.data.data\n\t\t\t})\n\t\t\t.catch(error=>console.log(error))\n\t\t}, //getGoodsData\n\t\tchangeTab(index){\n\t\t\tthis.tabIndex = index\t\n\t\t\t// ⚠️ 记住需求 是当用户要看「成交数据」的时候才触发相关请求，客户不看那就不触发\n\t\t\tif(this.tabIndex===1){\n\t\t\t\tthis.getDealData()\n\t\t\t}\n\t\t},//changeTab\n\t\tgetDealData(id){\n\t\t\taxios.post(url.goodsDeal,{id})\n\t\t\t.then(res=>{\n\t\t\t\tthis.goodsDeal = res.data.data.list\n\t\t\t})\n\t\t\t.catch(err=>{console.log(err)})\n\t\t},//getDealData\n\t\tchooseSku(type){\n\t\t\t// 把页面上用户触发的类型数值数值传递给skuType 3种状态要更新到 this.skuType 才行\n\t\t\tthis.skuType = type\n\t\t\t// 阴影层此时变成true 也就出来了\n\t\t\tthis.showSku = true\n\t\t}, //chooseSKU\n\t\t// 很巧妙 一个方法解决了 加减两个需求\n\t\tchangeNum(num){\n\t\t\tif(num<0 && this.skuNum===1) return\n\t\t\tthis.skuNum += num\n\t\t},//changeNum\n\t\t\n\t\t// 通过接口异步请求才行 ⚠️别忘了传两个参数\n\t\taddCart(){\n\n\t\t\tfetch(url.addCart,{\n\t\t\t\tid,\n\t\t\t\tnumber: this.skuNum\n\t\t\t}).then(res=>{\n\t\t\t\tlet status = res.status\n\t\t\t\tif(status===200){\n\t\t\t\t\tthis.showSku = false\n\t\t\t\t\tthis.showAddMsg = true\n\t\t\t\t\tthis.isAddCart = true\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.showAddMsg = false\n\t\t\t\t\t}, 1000)\n\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// axios.post(url.addCart,{id,number:this.skuNum})\n\t\t\t//  .then(res=>{\n\t\t\t//  \tconsole.log(res.data.status)\n\t\t\t//  \tif(res.data.status === 200){\n\t\t\t//  \t\tthis.showSku = false\n\t\t\t//  \t\tthis.showAddMsg = true\n\t\t\t//  \t\tthis.isAddCart = true\n   //        // showAddMsg 的信息 过一秒自动隐藏\n\t\t\t//  \t\tsetTimeout( ()=>{\n\t\t\t//  \t\t\tthis.showAddMsg = false\n\t\t\t//  \t\t},1000)\n\n\t\t\t//  \t}\n\t\t\t//  })\n\t\t\t//  .catch(error=>{\n\t\t\t//  \tconsole.log(error)\n\t\t\t//  })\n\n\t\t},//addCart\n\n\n\t},//methods\n\twatch:{\n\t\t// 伴随showSku的出现 body 要及时做出变化\n\t\tshowSku(newVal,oldVal){\n\t\t\tdocument.body.style.overflow = newVal ? 'hidden': 'auto'\n\t\t  document.body.style.height = newVal?'100%': 'auto'\n\t\t},//showSku\n\t\tskuNum(val){\n\t\t\tif(val<=1) this.skuNum = 1\n\t\t},//skuNum\n\t\t \n\n\t}, //watch\n\tcreated(){\n\t\tthis.getGoodsData()\n\t},\n\t// mixins: [mixin]\n\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/goods/goods.js","<template>\n\t<div class=\"swiper-container\">\n  \t<div class=\"swiper-wrapper\" >    \n\t\t\t<mt-swipe :auto=\"4000\" class=\"swp-page\"  >\n\t\t\t\t<mt-swipe-item v-for=\"item in bannerlists\">\n\t\t\t\t\t<a class=\"js-no-follow\" :href=\"item.clickUrl\">\n\t\t        \t<img class=\"goods-main-photo fadeIn\" :src=\"item.imgUrl\">\n\t\t       </a>\n\t\t\t\t</mt-swipe-item>\n\t\t  </mt-swipe>\n    </div>\n  </div>\t \n</template>\n\n<script type=\"text/javascript\">\n\t/* ⚠️ 千万不能忘了 引入相关样式 */\n\timport '../../node_modules/mint-ui/lib/swipe/style.css'\n\texport default{\n\t\tname: 'Swiper',\n\t\tdata(){\n\t\t\treturn {\n\n\t\t\t}\n\t\t},//data\n\t\tprops:{\n\t\t\t//  之前在父组件 与这里用的都是 bannerLists 但是出错了 遂改成 bannerlists\n\t\t\tbannerlists:{\n\t\t\t\ttype: Array,\n\t\t\t\trequired: true,\n\t\t\t},//bannerlists\n\t\t},//props\n\t\tmethods:{\n\n\t\t},//methods\n\t}\n</script>\n\n<style type=\"text/css\" scoped>\n\t\t.swp-page{\n\t\t\theight: 180px;\n\t\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},[_c('mt-swipe',{staticClass:\"swp-page\",attrs:{\"auto\":4000}},_vm._l((_vm.bannerlists),function(item){return _c('mt-swipe-item',[_c('a',{staticClass:\"js-no-follow\",attrs:{\"href\":item.clickUrl}},[_c('img',{staticClass:\"goods-main-photo fadeIn\",attrs:{\"src\":item.imgUrl}})])])}),1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3246257c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3246257c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3246257c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3246257c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper.vue\n// module id = null\n// module chunks = ","// 测试环境与生产环境之间的切换 一个测试用的host 一个生产用的，产品在mock数据下都没问题的话，通过手动注释host 来完成环境的切换\n// let host = 'http://mock.eolinker.com/WRiiiWx935d408ca499edf80cafc0228ec55654762caa7c?uri='\n// let host = ''\nlet host = 'http://rap2api.taobao.org/app/mock/149241'\n// 存放所有请求的api 这儿声明的名字 与 export default module的name  应该一样\nlet url = {\n\thotlists: '/index/hotlists',\n\tindexbanner: '/index/banner',\n\tcategorylist: '/category/topList',\n\tsubList: '/category/subList',\n\trank: '/category/rank',\n\tgoodList: '/search/list', //商品列表\n\tgoodsDetails: '/goods/details/',\n\tgoodsDeal: '/goods/deal/',\n\tcartList: '/cart/list',\n\taddCart: '/cart/add', // 增加购物车中商品数量 每次增加1\n\tcartReduce: '/cart/reduce', // 减少购物车中商品数量 每次减少1\n\tcartRemove: '/cart/remove', //  删除一个\n\tcartMremove: '/cart/mremove', //购物车 多个删除\n\taddressLists: '/address/list',\n\taddressAdd: '/address/add',\n\taddressRemove: '/address/remove',\n\taddressUpdate: '/address/update',\n\taddressSetDefault: '/address/setDefault',\n\n \n}\n// 给每一个端口都加上host  自己将let item  写成了 item\nfor (let item in url) {\n\tif (url.hasOwnProperty(item)) {\n\t\turl[item] = host + url[item]\n\t}\t\n}\n\n\n// 1.02.28\nexport default url \n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js"],"sourceRoot":""}